function onSubmit(e){const t=document.getElementById("email-form"),n=document.getElementById("email-h1"),o=document.getElementById("email-p");document.getElementById("email-submit").style.display="none";const a=new FormData(t);fetch("./.netlify/functions/email",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:a.get("name"),email:a.get("email"),message:a.get("message"),"g-recaptcha-response":a.get("g-recaptcha-response")})}).then(e=>e.text().then(a=>{if(!e.ok)return Promise.reject(new Error(a));t.style.display="none",n.innerText="Success!",o.innerText="Your email has been sent, we hope to reply soon!",n.scrollIntoView()})).catch(e=>{console.log(e),t.style.display="none",n.innerText="An error occurred",o.innerText="We were unable to send your email, please try again later.",n.scrollIntoView()})}function precaptcha(){return grecaptcha.execute(),!1}!function(){let e=document.createElement("script");e.type="text/javascript",e.src="https://www.google.com/recaptcha/api.js";let t=!1;function n(){t||(t=!0,console.log("loading reCAPTCHA"),document.getElementsByTagName("head")[0].appendChild(e))}for(const e of document.getElementById("email-form").children)e.addEventListener("focus",n)}();
